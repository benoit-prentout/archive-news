<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã‡a a changÃ© ma vie ðŸ’›</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700&family=Inter:wght@400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/style.css">
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div class="viewer-layout">
        <!-- Main Content -->
        <div class="viewer-main">
            <!-- Header -->
            <header class="viewer-header">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <h1
                        style="font-family: var(--font-header); font-size: 1rem; font-weight: 600; margin: 0; max-width: 500px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: var(--accent-blue);">
                        Ã‡a a changÃ© ma vie ðŸ’›
                    </h1>
                </div>

                <div style="display: flex; align-items: center; gap: 12px;">
                    <div class="viewer-toolbar">
                        <button class="btn btn-secondary" onclick="toggleHighlightLinks()"
                            title="Highlight all links (H)">
                            <span id="highlightBtnText">Show Links</span>
                        </button>
                        <button class="btn btn-secondary" onclick="openHtmlModal()" title="View HTML (V)">
                            View HTML
                        </button>
                    </div>

                    <span class="crm-badge" data-crm="Klaviyo">Klaviyo</span>

                    <div class="device-toggle hide-mobile">
                        <button class="device-btn" onclick="setMode('mobile')" title="Mobile (1)">Mobile</button>
                        <button class="device-btn" onclick="setMode('tablet')" title="Tablet (2)">Tablet</button>
                        <button class="device-btn active" onclick="setMode('desktop')"
                            title="Desktop (3)">Desktop</button>
                    </div>

                    <button class="btn-icon" id="theme-toggle" onclick="toggleTheme()" title="Toggle Theme (T)">
                        <svg class="icon icon-moon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg class="icon icon-sun" style="display:none;" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </button>
                </div>
            </header>

            <!-- Email Content -->
            <div class="viewer-content">
                <div id="deviceFrame" data-mode="desktop"
                    style="width: 100%; max-width: 800px; height: 100%; transition: max-width 0.3s ease;">
                    <iframe id="emailFrame" class="email-frame"></iframe>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <aside class="viewer-sidebar">
            <div class="sidebar-header">
                <span class="sidebar-title">Metadata</span>
            </div>

            <div class="sidebar-content">
                <!-- General Info -->
                <div class="meta-section">
                    <div class="meta-section-title">General</div>
                    <div class="meta-row">
                        <span class="meta-key">Sender</span>
                        <span class="meta-val">Joseph de MieuxQueDesFleurs</span>
                    </div>
                    <div class="meta-row">
                        <span class="meta-key">Subject</span>
                        <span class="meta-val"
                            style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                            title="Ã‡a a changÃ© ma vie ðŸ’›">Ã‡a a changÃ© ma vie ðŸ’›</span>
                    </div>
                    <div class="meta-row">
                        <span class="meta-key">Preheader</span>
                        <span class="meta-val"
                            style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                            title="C'est comme Ã§a qu'on les remercie. Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­...">C'est comme Ã§a qu'on les remercie. Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­ Â­...</span>
                    </div>
                    <div class="meta-row">
                        <span class="meta-key">Received</span>
                        <span class="meta-val">12/01/2026 Ã  07:02</span>
                    </div>
                    <div class="meta-row">
                        <span class="meta-key">CRM</span>
                        <span class="meta-val text-cyan" style="font-weight: 700;">Klaviyo</span>
                    </div>
                </div>

                <!-- Technical -->
                <div class="meta-section">
                    <div class="meta-section-title">Technical</div>
                    <div class="meta-row">
                        <span class="meta-key">Size</span>
                        <span class="meta-val text-yellow">34.3 KB</span>
                    </div>
                    <div class="meta-row">
                        <span class="meta-key">Clipping Risk</span>
                        <span class="meta-val text-green"
                            style="font-weight: 700;">
                            Low
                        </span>
                    </div>
                </div>

                <!-- Tracking Pixels -->
                
                <div class="meta-section">
                    <div class="meta-section-title">Tracking Pixels (2)</div>
                    
                    <div class="link-card-v2" style="cursor: default; border-color: var(--accent-green); opacity: 0.9;">
                        <div class="card-v2-header" style="background: rgba(80, 250, 123, 0.05);">
                            <span class="card-v2-index" style="background: var(--accent-green);">P</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <span class="card-v2-tag"
                                style="color: var(--accent-green); background: rgba(80, 250, 123, 0.1);">PIXEL</span>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text text-green">Integration: OK</div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/o/01KERFHVT0WQ9H76N0GEPWWZ3T</code>
                                <button class="card-v2-copy-btn"
                                    onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/o/01KERFHVT0WQ9H76N0GEPWWZ3T')">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" style="cursor: default; border-color: var(--accent-green); opacity: 0.9;">
                        <div class="card-v2-header" style="background: rgba(80, 250, 123, 0.05);">
                            <span class="card-v2-index" style="background: var(--accent-green);">P</span>
                            <span class="card-v2-domain">api.getinside.media</span>
                            <span class="card-v2-tag"
                                style="color: var(--accent-green); background: rgba(80, 250, 123, 0.1);">PIXEL</span>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text text-green">Integration: OK</div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://api.getinside.media/v1/emails/track/68e3d9e270be3</code>
                                <button class="card-v2-copy-btn"
                                    onclick="event.stopPropagation(); copyLink(this, 'https://api.getinside.media/v1/emails/track/68e3d9e270be3')">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                </div>
                

                <!-- All Links -->
                <div class="meta-section" style="flex: 1;">
                    <div class="meta-section-title">Links (12)</div>
                    
                    <div class="link-card-v2" onclick="highlightLink(1)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">1</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_0</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_0', 1)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_0')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(2)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">2</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_1</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_1', 2)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_1')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(3)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">3</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_2</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_2', 3)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_2')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(4)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">4</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_3</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_3', 4)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_3')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(5)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">5</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_4</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_4', 5)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_4')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(6)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">6</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_5</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_5', 6)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_5')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(7)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">7</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_6</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_6', 7)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_6')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(8)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">8</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_7</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_7', 8)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_7')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(9)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">9</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_8</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_8', 9)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_8')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(10)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">10</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_9</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_9', 10)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_9')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(11)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">11</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text"></div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_10</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_10', 11)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_10')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="link-card-v2" onclick="highlightLink(12)">
                        <div class="card-v2-header">
                            <span class="card-v2-index">12</span>
                            <span class="card-v2-domain">ctrk.klclick.com</span>
                            <div style="display: flex; gap: 4px;">
                                
                                
                                
                            </div>
                        </div>
                        <div class="card-v2-body">
                            <div class="card-v2-text">Vous pouvez vous dÃ©sinscrire ici.</div>
                            <div class="card-v2-url-zone">
                                <code class="card-v2-url">https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_11</code>

                                <div
                                    style="display: flex; gap: 8px; margin-top: 8px; padding-top: 8px; justify-content: flex-end;">
                                    <button class="btn-card" title="Verify Link"
                                        onclick="event.stopPropagation(); runAudit(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_11', 12)">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        </svg>
                                    </button>
                                    <button class="btn-card" title="Copy URL"
                                        onclick="event.stopPropagation(); copyLink(this, 'https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_11')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Audit Log Container -->
                            <div class="audit-log-container">
                                <div class="audit-status-bar">
                                    <span class="audit-status-text">Scanning...</span>
                                </div>
                                <div class="audit-timeline">
                                    <!-- Log items will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>

            <!-- Sticky Footer in Sidebar -->
            <div class="sidebar-footer">
                <p style="font-size: 0.75rem; color: var(--text-muted); text-align: center; margin: 0;">
                    Â© 2025 <a href="https://github.com/benoit-prentout" target="_blank"
                        style="color: var(--accent-cyan); text-decoration: underline dotted; font-weight: 600;">BenoÃ®t
                        Prentout</a>.
                    All rights reserved.
                </p>
            </div>
        </aside>
    </div>

    <!-- HTML Source Modal -->
    <div class="modal-overlay" id="htmlModal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title" style="color: var(--accent-blue);">HTML Source</span>
                <button class="modal-close" onclick="closeHtmlModal()">&times;</button>
            </div>
            <div class="modal-body">
                <pre class="code-block" id="htmlSourceCode"></pre>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="copyAllHtml()">Copy HTML</button>
            </div>
        </div>
    </div>

    <!-- Link overlays container -->
    <div id="linkOverlays" style="position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100;"></div>

    <script src="../assets/js/main.js"></script>
    <script>
        const content = "<!DOCTYPE html>\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:v=\"urn:schemas-microsoft-com:vml\"><head>\n<title>\n</title>\n<!--[if !mso]><!-->\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"/>\n<!--<![endif]-->\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\"/>\n<!--[if mso]>\r\n        <noscript>\r\n        <xml>\r\n        <o:OfficeDocumentSettings>\r\n          <o:AllowPNG/>\r\n          <o:PixelsPerInch>96</o:PixelsPerInch>\r\n        </o:OfficeDocumentSettings>\r\n        </xml>\r\n        </noscript>\r\n        <![endif]-->\n<!--[if lte mso 11]>\r\n        <style type=\"text/css\" data-inliner=\"ignore\">\r\n          .mj-outlook-group-fix { width:100% !important; }\r\n        </style>\r\n        <![endif]-->\n<!--[if !mso]><!--><!--<![endif]-->\n<style>a:not([name]) {color:#4685d3;text-decoration:underline}\r\na:link {color:#4685d3;text-decoration:underline}\r\na:visited {color:#4685d3;text-decoration:underline}\r\na:active {color:#4685d3;text-decoration:underline}\r\na:hover {color:#4685d3;text-decoration:underline}</style><style>@import url(https://static-forms.klaviyo.com/fonts/api/v1/Qb2tyP/custom_fonts.css);\r\n#outlook a {\r\n    padding: 0\r\n    }\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    -webkit-text-size-adjust: 100%;\r\n    -ms-text-size-adjust: 100%\r\n    }\r\ntable, td {\r\n    border-collapse: collapse;\r\n    mso-table-lspace: 0;\r\n    mso-table-rspace: 0\r\n    }\r\nimg {\r\n    border: 0;\r\n    line-height: 100%;\r\n    outline: none;\r\n    text-decoration: none;\r\n    -ms-interpolation-mode: bicubic\r\n    }\r\np {\r\n    display: block;\r\n    margin: 13px 0\r\n    }\r\n@media only screen and (min-width: 480px) {\r\n    .mj-column-per-100 {\r\n        width: 100% !important;\r\n        max-width: 100%\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    div.kl-row.colstack div.kl-column {\r\n        display: block !important;\r\n        width: 100% !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    .component-wrapper .mob-no-spc {\r\n        padding-left: 0 !important;\r\n        padding-right: 0 !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    td.kl-img-base-auto-width {\r\n        width: 100% !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    .kl-split-subblock.top .spacer, .kl-split-subblock.bottom .spacer {\r\n        padding: 0 !important\r\n        }\r\n    .kl-split-subblock.top .spacer {\r\n        padding-bottom: 9px !important\r\n        }\r\n    .kl-split-subblock.top {\r\n        display: table-header-group !important;\r\n        width: 100% !important\r\n        }\r\n    .kl-split-subblock.bottom {\r\n        display: table-footer-group !important;\r\n        width: 100% !important\r\n        }\r\n    }\r\n@media screen and (max-width: 480px) {\r\n    .kl-sl-stk {\r\n        display: block !important;\r\n        width: 100% !important;\r\n        padding: 0 0 9px !important;\r\n        text-align: center !important\r\n        }\r\n    .kl-sl-stk.lbls {\r\n        padding: 0 !important\r\n        }\r\n    .kl-sl-stk.spcblk {\r\n        display: none !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    td.mobile-only {\r\n        display: table-cell !important\r\n        }\r\n    div.mobile-only {\r\n        display: block !important\r\n        }\r\n    table.mobile-only {\r\n        display: table !important\r\n        }\r\n    .desktop-only {\r\n        display: none !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    .table-mobile-only {\r\n        display: table-cell !important;\r\n        max-height: none !important\r\n        }\r\n    .table-mobile-only.block {\r\n        display: block !important\r\n        }\r\n    .table-mobile-only.inline-block {\r\n        display: inline-block !important\r\n        }\r\n    .table-desktop-only {\r\n        max-height: 0 !important;\r\n        display: none !important;\r\n        mso-hide: all !important;\r\n        overflow: hidden !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    body.mce-content-body, /* NOTE: needed for internal tinymce styles */.kl-text > div, .kl-table-subblock > div, .kl-split-subblock > div {\r\n        font-size: 14px !important;\r\n        line-height: 1.3 !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    h1 {\r\n        font-size: 40px !important;\r\n        line-height: 1.3 !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    h2 {\r\n        font-size: 32px !important;\r\n        line-height: 1.3 !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    h3 {\r\n        font-size: 24px !important;\r\n        line-height: 1.3 !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    h4 {\r\n        font-size: 18px !important;\r\n        line-height: 1.3 !important\r\n        }\r\n    }\r\n@media only screen and (max-width: 480px) {\r\n    .root-container {\r\n        width: 100% !important\r\n        }\r\n    .root-container-spacing {\r\n        padding: 10px !important\r\n        }\r\n    .content-padding {\r\n        padding-left: 0 !important;\r\n        padding-right: 0 !important\r\n        }\r\n    .content-padding.first {\r\n        padding-top: 0 !important\r\n        }\r\n    .content-padding.last {\r\n        padding-bottom: 0 !important\r\n        }\r\n    .kl-column > .component-wrapper {\r\n        padding-left: 0 !important;\r\n        padding-right: 0 !important;\r\n        width: unset !important\r\n        }\r\n    .kl-text {\r\n        padding-right: 18px !important;\r\n        padding-left: 18px !important\r\n        }\r\n    }</style></head>\n<body style=\"word-spacing:normal;background-color:#FDF5F5;\">\n<div style=\"display:none;font-size:1px;color:#ffffff;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;\">\r\n      C'est comme \u00e7a qu'on les remercie.\u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u2007\u034f \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad \u00ad\r\n    </div>\n<img alt=\"\" border=\"0\" height=\"1\" src=\"\" style=\"display:none !important;\" width=\"1\"/>\n<div class=\"root-container\" id=\"bodyTable\" style=\"background-position:left top; background-repeat:repeat; background-size:auto; background-color:#FDF5F5\">\n<div class=\"root-container-spacing\" style=\"font-size:0; padding-bottom:20px; padding-top:50px\">\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"kl-section\" role=\"presentation\" style=\"width:100%;\">\n<tbody>\n<tr>\n<td>\n<!--[if mso | IE]><table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"kl-section-outlook\" style=\"width:600px;\" width=\"600\" ><tr><td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\"><![endif]-->\n<div style=\"margin:0px auto;max-width:600px;\">\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\n<tbody>\n<tr>\n<td style=\"border-bottom:solid 1px #ECF4FF;border-left:solid 1px #ECF4FF;border-right:solid 1px #ECF4FF;border-top:solid 1px #ECF4FF;direction:ltr;font-size:0px;padding:0px;text-align:center;\">\n<!--[if mso | IE]><table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\" bgcolor=\"#ECC45A\" ><tr><td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\"><![endif]-->\n<div style=\"background:#ECC45A url(https://d3k81ch9hvuctc.cloudfront.net/company/Qb2tyP/images/2dc01d16-e7d4-40a4-a08c-a78c084dd15f.jpeg) center center / cover no-repeat;background-position:center center;background-repeat:no-repeat;background-size:cover;margin:0px auto;border-radius:0px 0px 0px 0px;max-width:600px;\">\n<div style=\"line-height:0;font-size:0;\">\n<table align=\"center\" background=\"https://d3k81ch9hvuctc.cloudfront.net/company/Qb2tyP/images/2dc01d16-e7d4-40a4-a08c-a78c084dd15f.jpeg\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"background:#ECC45A url(https://d3k81ch9hvuctc.cloudfront.net/company/Qb2tyP/images/2dc01d16-e7d4-40a4-a08c-a78c084dd15f.jpeg) center center / cover no-repeat;background-position:center center;background-repeat:no-repeat;background-size:cover;width:100%;border-radius:0px 0px 0px 0px;\">\n<tbody>\n<tr>\n<td style=\"direction:ltr;font-size:0px;padding:20px 0;padding-bottom:0px;padding-left:0px;padding-right:0px;padding-top:0px;text-align:center;\">\n<!--[if mso | IE]><table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><![endif]-->\n<div class=\"content-padding first last\" style=\"padding-left:0; padding-right:0; padding-top:0; padding-bottom:0\">\n<!--[if true]><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"598\" style=\"width:598px;direction:ltr\"><tr><![endif]-->\n<div class=\"kl-row colstack\" style=\"display:table;table-layout:fixed;width:100%;\">\n<!--[if true]><td style=\"vertical-align:top;width:598px;\"><![endif]-->\n<div class=\"kl-column\" style=\"display:table-cell;vertical-align:top;width:100%;\">\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"vertical-align:top;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"center\" class=\"kl-image\" style=\"font-size:0px;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0px;\">\n<tbody>\n<tr>\n<td class=\"kl-img-base-auto-width\" style=\"border:0;padding:0px 0px 0px 0px;width:598px;\" valign=\"top\">\n<a class=\"kl-img-link\" data-index=\"1\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_0\" style=\"color:#4685d3; text-decoration:underline; display:block\">\n<img src=\"img_0.jpg\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; display:block; font-size:13px; width:100%\" width=\"598\"/>\n</a>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"vertical-align:top;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"center\" class=\"kl-image\" style=\"font-size:0px;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0px;\">\n<tbody>\n<tr>\n<td class=\"kl-img-base-auto-width\" style=\"border:0;padding:0px 0px 0px 0px;width:598px;\" valign=\"top\">\n<img src=\"img_1.jpg\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; display:block; font-size:13px; width:100%\" width=\"598\"/>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"background-color:#ECC45A;vertical-align:top;padding-top:9px;padding-right:40px;padding-bottom:9px;padding-left:40px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"left\" class=\"kl-split\" style=\"font-size:0px;padding:0px;word-break:break-word;\">\n<div style=\"font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:13px;line-height:1;text-align:left;color:#000000;\"><!--[if true]><table role=\"presentation\" width=\"100%\" style=\"all:unset;opacity:0;\"><tr><![endif]-->\n<!--[if false]></td></tr></table><![endif]-->\n<div style=\"display:table;width:100%;\">\n<!--[if true]><td vertical-align=\"top\" width=\"70%\"><![endif]-->\n<!--[if !true]><!--><div class=\"kl-split-subblock top\" style=\"display:table-cell;vertical-align: top;width:70%\"><!--<![endif]-->\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"spacer\" style=\"padding-left:0px;padding-right:0px;\" vertical-align=\"top\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" width=\"100%\">\n<tbody><tr>\n<td>\n<div style=\"font-family:'Helvetica Neue',Arial;font-size:14px;font-style:normal;font-weight:400;letter-spacing:0px;line-height:1.3;text-align:left;color:#222222;\"><div style=\"text-align: justify;\"><span style=\"color: rgb(0, 0, 0);\">Bonjour,\r\n<div>C\u2019est Joseph, Le fondateur de MieuxQueDesFleurs. Je voulais vous raconter une petite histoire personnelle.</div>\n<div>\u00a0</div>\n<div>Quand j\u2019\u00e9tais petit, je n\u2019habitais pas la France, et malgr\u00e9 \u00e7a, <span style=\"font-weight: bold;\">j\u2019entendais parler de l\u2019Op\u00e9ration Pi\u00e8ces Jaunes \u00e0 travers les magazines et la t\u00e9l\u00e9 qui arrivait jusque dans mon pays.</span> Quand je suis arriv\u00e9 en France, j\u2019ai commenc\u00e9 \u00e0 retirer ma tirelire \u00e0 La Poste pour moi aussi, participer \u00e0 cet \u00e9lan de solidarit\u00e9 national.</div>\n<div>\u00a0</div>\n</span></div></div>\n</td>\n</tr>\n</tbody></table>\n</td>\n</tr>\n</tbody>\n</table>\n<!--[if !true]><!--></div><!--<![endif]-->\n<!--[if true]></td><![endif]-->\n<!--[if true]><td vertical-align=\"top\" width=\"30%\"><![endif]-->\n<!--[if !true]><!--><div class=\"kl-split-subblock bottom\" style=\"display:table-cell;vertical-align: top;width:30%\"><!--<![endif]-->\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"spacer\" style=\"padding-left:0px;padding-right:0px;\" vertical-align=\"top\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" width=\"100%\">\n<tbody><tr>\n<td>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n<tbody><tr>\n<td align=\"left\" class=\"\" style=\"font-size:0px;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0px;\">\n<tbody>\n<tr>\n<td class=\"kl-img-base-auto-width\" style=\"border:0;padding:0;width:598px;\" valign=\"top\">\n<a class=\"kl-img-link\" data-index=\"2\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_1\" style=\"color:#4685d3; text-decoration:underline; display:block\">\n<img alt=\"\" src=\"img_2.jpg\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; display:block; font-size:13px; width:100%\" title=\"\" width=\"598\"/>\n</a>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody></table>\n</td>\n</tr>\n</tbody></table>\n</td>\n</tr>\n</tbody>\n</table>\n<!--[if !true]><!--></div><!--<![endif]-->\n<!--[if true]></td><![endif]-->\n</div>\n<!--[if true]></tr></table><![endif]--></div>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"background-color:#ECC45A;vertical-align:top;padding-top:9px;padding-right:38px;padding-bottom:9px;padding-left:38px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"left\" class=\"kl-text\" style=\"font-size:0px;padding:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;word-break:break-word;\">\n<div style=\"font-family:'Helvetica Neue',Arial;font-size:14px;font-style:normal;font-weight:400;letter-spacing:0px;line-height:1.3;text-align:left;color:#222222;\"><div style=\"text-align: justify;\"><strong>Jamais de la vie, je ne pensais qu\u2019un jour, le b\u00e9n\u00e9ficiaire des pi\u00e8ces jaunes, \u00e7a serait moi.</strong> Lorsque j\u2019ai fr\u00e9quent\u00e9 les couloirs de l\u2019h\u00f4pital avec ma fille, j\u2019ai d\u00e9couvert tout ce que les pi\u00e8ces jaunes ont pu faire pour faciliter la vie des parents, et am\u00e9liorer le quotidien des enfants qui vivaient \u00e0 l\u2019h\u00f4pital. <strong>J\u2019ai compris que tous les dons servaient \u00e0 mettre des sourires sur le visage des enfants et donne une bouff\u00e9e d\u2019air frais aux parents.</strong></div></div>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"vertical-align:top;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"center\" class=\"kl-image\" style=\"font-size:0px;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0px;\">\n<tbody>\n<tr>\n<td class=\"kl-img-base-auto-width\" style=\"border:0;padding:0px 0px 0px 0px;width:598px;\" valign=\"top\">\n<a class=\"kl-img-link\" data-index=\"3\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_2\" style=\"color:#4685d3; text-decoration:underline; display:block\">\n<img src=\"img_3.jpg\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; display:block; font-size:13px; width:100%\" width=\"598\"/>\n</a>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"background-color:#ECC45A;vertical-align:top;padding-top:9px;padding-right:38px;padding-bottom:9px;padding-left:38px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"left\" class=\"kl-text\" style=\"font-size:0px;padding:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;word-break:break-word;\">\n<div style=\"font-family:'Helvetica Neue',Arial;font-size:14px;font-style:normal;font-weight:400;letter-spacing:0px;line-height:1.3;text-align:left;color:#222222;\"><div style=\"text-align: justify;\">Partenaire de coeur, nous les soutenons depuis 2 ans, en glissant des tirelires dans nos colis et avec un peu de communication.\u00a0Et si vous aussi vous voulez faire bouger les lignes, <strong>je vous ai mis un bouton pour faire un don.\u00a0</strong></div></div>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"vertical-align:top;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"center\" class=\"kl-image\" style=\"font-size:0px;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0px;\">\n<tbody>\n<tr>\n<td class=\"kl-img-base-auto-width\" style=\"border:0;padding:0px 0px 0px 0px;width:598px;\" valign=\"top\">\n<a class=\"kl-img-link\" data-index=\"4\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_3\" style=\"color:#4685d3; text-decoration:underline; display:block\">\n<img src=\"img_4.gif\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; display:block; font-size:13px; width:100%\" width=\"598\"/>\n</a>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"background-color:#ECC45A;vertical-align:top;padding-top:9px;padding-right:40px;padding-bottom:9px;padding-left:40px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"left\" class=\"kl-split\" style=\"font-size:0px;padding:0px;word-break:break-word;\">\n<div style=\"font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:13px;line-height:1;text-align:left;color:#000000;\"><!--[if true]><table role=\"presentation\" width=\"100%\" style=\"all:unset;opacity:0;\"><tr><![endif]-->\n<!--[if false]></td></tr></table><![endif]-->\n<div style=\"display:table;width:100%;\">\n<!--[if true]><td vertical-align=\"top\" width=\"60%\"><![endif]-->\n<!--[if !true]><!--><div class=\"kl-split-subblock top\" style=\"display:table-cell;vertical-align: top;width:60%\"><!--<![endif]-->\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"spacer\" style=\"padding-left:0px;padding-right:0px;\" vertical-align=\"top\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" width=\"100%\">\n<tbody><tr>\n<td>\n<div style=\"font-family:'Helvetica Neue',Arial;font-size:14px;font-style:normal;font-weight:400;letter-spacing:0px;line-height:1.3;text-align:left;color:#222222;\"><div style=\"text-align: justify;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"font-style: italic;\">Et en \u00e9change \u00a0je vous glisse une photo de ma t\u00eate avec Didier Deschamps, qui \u00e9tait venu nous rendre visite \u00e0 l\u2019h\u00f4pital pour le lancement de l\u2019op\u00e9ration Pi\u00e8ces Jaunes de 2023 (au saut du lit, sinon c\u2019est pas dr\u00f4le).\u00a0</span><br/>\n<div>\u00a0</div>\n</span></div></div>\n</td>\n</tr>\n</tbody></table>\n</td>\n</tr>\n</tbody>\n</table>\n<!--[if !true]><!--></div><!--<![endif]-->\n<!--[if true]></td><![endif]-->\n<!--[if true]><td vertical-align=\"top\" width=\"40%\"><![endif]-->\n<!--[if !true]><!--><div class=\"kl-split-subblock bottom\" style=\"display:table-cell;vertical-align: top;width:40%\"><!--<![endif]-->\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"spacer\" style=\"padding-left:0px;padding-right:0px;\" vertical-align=\"top\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" width=\"100%\">\n<tbody><tr>\n<td>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n<tbody><tr>\n<td align=\"left\" class=\"\" style=\"font-size:0px;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0px;\">\n<tbody>\n<tr>\n<td class=\"kl-img-base-auto-width\" style=\"border:0;padding:0;width:598px;\" valign=\"top\">\n<a class=\"kl-img-link\" data-index=\"5\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_4\" style=\"color:#4685d3; text-decoration:underline; display:block\">\n<img alt=\"\" src=\"img_5.jpg\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; display:block; font-size:13px; width:100%\" title=\"\" width=\"598\"/>\n</a>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody></table>\n</td>\n</tr>\n</tbody></table>\n</td>\n</tr>\n</tbody>\n</table>\n<!--[if !true]><!--></div><!--<![endif]-->\n<!--[if true]></td><![endif]-->\n</div>\n<!--[if true]></tr></table><![endif]--></div>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"vertical-align:top;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td style=\"background:#ECC45A;font-size:0px;word-break:break-word;\">\n<div style=\"height:40px;line-height:40px;\">\u200a</div>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"vertical-align:top;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr><td style=\"color:#222222;font-family:'Helvetica Neue',Arial;font-size:14px;line-height:1.3;\"><img alt=\"\" height=\"1\" src=\"\" style=\"display:none !important;\" width=\"1\"/></td></tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"vertical-align:top;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"center\" class=\"kl-image\" style=\"font-size:0px;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0px;\">\n<tbody>\n<tr>\n<td class=\"kl-img-base-auto-width\" style=\"border:0;padding:0px 0px 0px 0px;background-color:#FFFFFF;width:598px;\" valign=\"top\">\n<a class=\"kl-img-link\" data-index=\"6\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_5\" style=\"color:#4685d3; text-decoration:underline; display:block\">\n<img src=\"img_6.png\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; display:block; font-size:13px; width:100%\" width=\"598\"/>\n</a>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"background-color:#ffffff;vertical-align:top;padding-top:12px;padding-right:9px;padding-bottom:12px;padding-left:9px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td>\n<div style=\"width:100%;text-align:center\">\n<!--[if true]><table style=\"all:unset;opacity:0;\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" ><tr><![endif]-->\n<!--[if !true]><!--><div class=\"\" style=\"display:inline-block;padding-right:10px;\"><!--<![endif]-->\n<!--[if true]><td style=\"padding-right:10px;\"><![endif]-->\n<div style=\"text-align: center;\">\n<a data-index=\"7\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_6\" style=\"color:#4685d3; text-decoration:underline\" target=\"_blank\">\n<img alt=\"Custom\" src=\"img_7.png\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; width:30px\" width=\"30\"/>\n</a>\n</div>\n<!--[if true]></td><![endif]-->\n<!--[if !true]><!--></div><!--<![endif]-->\n<!--[if !true]><!--><div class=\"\" style=\"display:inline-block;padding-right:10px;\"><!--<![endif]-->\n<!--[if true]><td style=\"padding-right:10px;\"><![endif]-->\n<div style=\"text-align: center;\">\n<a data-index=\"8\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_7\" style=\"color:#4685d3; text-decoration:underline\" target=\"_blank\">\n<img alt=\"Custom\" src=\"img_8.png\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; width:30px\" width=\"30\"/>\n</a>\n</div>\n<!--[if true]></td><![endif]-->\n<!--[if !true]><!--></div><!--<![endif]-->\n<!--[if !true]><!--><div class=\"\" style=\"display:inline-block;padding-right:10px;\"><!--<![endif]-->\n<!--[if true]><td style=\"padding-right:10px;\"><![endif]-->\n<div style=\"text-align: center;\">\n<a data-index=\"9\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_8\" style=\"color:#4685d3; text-decoration:underline\" target=\"_blank\">\n<img alt=\"Custom\" src=\"img_9.png\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; width:30px\" width=\"30\"/>\n</a>\n</div>\n<!--[if true]></td><![endif]-->\n<!--[if !true]><!--></div><!--<![endif]-->\n<!--[if !true]><!--><div class=\"\" style=\"display:inline-block;padding-right:10px;\"><!--<![endif]-->\n<!--[if true]><td style=\"padding-right:10px;\"><![endif]-->\n<div style=\"text-align: center;\">\n<a data-index=\"10\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_9\" style=\"color:#4685d3; text-decoration:underline\" target=\"_blank\">\n<img alt=\"Button Text\" src=\"img_10.png\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; width:30px\" width=\"30\"/>\n</a>\n</div>\n<!--[if true]></td><![endif]-->\n<!--[if !true]><!--></div><!--<![endif]-->\n<!--[if !true]><!--><div class=\"\" style=\"display:inline-block;\"><!--<![endif]-->\n<!--[if true]><td style=\"\"><![endif]-->\n<div style=\"text-align: center;\">\n<a data-index=\"11\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_10\" style=\"color:#4685d3; text-decoration:underline\" target=\"_blank\">\n<img alt=\"Custom\" src=\"img_11.png\" style=\"border:0; height:auto; line-height:100%; max-width:100%; outline:none; text-decoration:none; width:32px\" width=\"32\"/>\n</a>\n</div>\n<!--[if true]></td><![endif]-->\n<!--[if !true]><!--></div><!--<![endif]-->\n<!--[if true]></tr></table><![endif]-->\n</div>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"background-color:#FFFFFF;vertical-align:top;padding-top:18px;padding-right:18px;padding-bottom:18px;padding-left:18px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"center\" style=\"font-size:0px;padding:0px;word-break:break-word;\">\n<p style=\"margin-bottom:0; margin-left:0; margin-right:0; margin-top:0; padding-bottom:0; border-top:solid 1px #ECF4FF; font-size:1px; margin:0 auto; width:100%\">\n</p>\n<!--[if mso | IE]><table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-top:solid 1px #ECF4FF;font-size:1px;margin:0px auto;width:562px;\" role=\"presentation\" width=\"562px\" ><tr><td style=\"height:0;line-height:0;\"> &nbsp;\r\n</td></tr></table><![endif]-->\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper kl-text-table-layout\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"vertical-align:top;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td align=\"left\" class=\"kl-text\" style=\"background:#ffffff;font-size:0px;padding:0px;padding-top:9px;padding-right:18px;padding-bottom:9px;padding-left:18px;word-break:break-word;\">\n<div style=\"font-family:'Helvetica Neue',Arial;font-size:14px;font-style:normal;font-weight:400;letter-spacing:0px;line-height:1.3;text-align:left;color:#222222;\"><div>\u200b</div>\n<p style=\"margin-bottom:0; margin-left:0; margin-right:0; margin-top:0; padding-bottom:0; text-align:center\"><span style=\"font-size: 10px; color: rgb(108, 108, 108);\">Vous ne souhaitez plus recevoir nos emails<span style=\"color: rgb(254, 169, 192);\"> <span style=\"color: rgb(108, 108, 108);\">? <span style=\"color: rgb(255, 88, 77);\"><a data-index=\"12\" href=\"https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_11\" style=\"color:#4685d3; text-decoration:underline\">Vous pouvez vous d\u00e9sinscrire ici.</a></span></span></span></span></p></div>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"mj-column-per-100 mj-outlook-group-fix component-wrapper\" style=\"font-size:0px;text-align:left;direction:ltr;vertical-align:top;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\" width=\"100%\">\n<tbody>\n<tr>\n<td class=\"\" style=\"vertical-align:top;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"\" width=\"100%\">\n<tbody>\n<tr>\n<td style=\"background:#FFFFFF;font-size:0px;word-break:break-word;\">\n<div style=\"height:20px;line-height:20px;\">\u200a</div>\n</td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n<!--[if true]></td><![endif]-->\n</div>\n<!--[if true]></tr></table><![endif]-->\n</div>\n<!--[if mso | IE]></table><![endif]-->\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n<!--[if mso | IE]></td></tr></table></table><![endif]-->\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<!--[if mso | IE]></td></tr></table><![endif]-->\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n<!-- TRACKING_PIXEL_BOTTOM -->\n</body></html>";
        const emailLinks = [{"index": 1, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_0", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_0", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 2, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_1", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_1", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 3, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_2", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_2", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 4, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_3", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_3", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 5, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_4", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_4", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 6, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_5", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_5", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 7, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_6", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_6", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 8, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_7", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_7", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 9, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_8", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_8", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 10, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_9", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_9", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 11, "txt": "", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_10", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_10", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}, {"index": 12, "txt": "Vous pouvez vous d\u00e9sinscrire ici.", "original_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_11", "final_url": "https://ctrk.klclick.com/l/01KERFHVT0WQ9H76N0GEPWWZ3T_11", "domain": "ctrk.klclick.com", "is_tracking": false, "is_secure": true, "is_dev": false}];
        const frame = document.getElementById('emailFrame');
        let linksHighlighted = false;
        let overlayElements = [];
        let lastHighlightedIdx = null;
        let spotlightTimeout = null;

        function init() {
            const doc = frame.contentDocument;
            doc.open();
            doc.write(content);
            doc.close();

            const style = doc.createElement('style');
            style.innerHTML = `
                :root {
                    --spotlight-dim: rgba(0, 0, 0, 0.6);
                    --spotlight-glow: #50FA7B;
                }
                [data-theme="dark"] {
                    /* In Dark Mode (Inverted), we want the dimming to be light so it inverts to dark */
                    --spotlight-dim: rgba(255, 255, 255, 0.7);
                    /* And we use the complement of green so it inverts back to green */
                    --spotlight-glow: #AF0584; 
                }
                body { margin: 0; font-family: sans-serif; background: #fff; position: relative; }
                .link-outline { 
                    outline: 2px solid #8BE9FD !important; /* Cyan */
                    outline-offset: 1px !important;
                    transition: outline 0.2s ease;
                }
                .link-highlight-pulse {
                    animation: link-pulse 2s infinite;
                }
                @keyframes link-pulse {
                    0% { outline-color: #8BE9FD; outline-width: 2px; }
                    50% { outline-color: #BD93F9; outline-width: 4px; outline-offset: 3px; }
                    100% { outline-color: #8BE9FD; outline-width: 2px; }
                }
                .link-flash-spotlight {
                    position: relative !important;
                    z-index: 2147483647 !important;
                    outline: 8px solid var(--spotlight-glow) !important;
                    outline-offset: 4px !important;
                    box-shadow: 0 0 0 10000px var(--spotlight-dim), 0 0 40px var(--spotlight-glow) !important;
                    background-color: rgba(255, 255, 255, 1) !important;
                    color: #282a36 !important;
                }
            `;
            doc.head.appendChild(style);

            const theme = localStorage.getItem('theme') || 'light';
            if (theme === 'dark') applyTheme('dark');
        }

        function setMode(mode) {
            const frameEl = document.getElementById('deviceFrame');
            const iframeEl = document.getElementById('emailFrame');

            document.querySelectorAll('.device-btn').forEach(b => b.classList.remove('active'));
            const btn = document.querySelector(`.device-btn[onclick*="${mode}"]`);
            if (btn) btn.classList.add('active');

            // Remove/add scrollbar class
            if (mode === 'mobile') {
                frameEl.style.maxWidth = '375px';
                iframeEl.classList.add('no-scrollbar');
            } else if (mode === 'tablet') {
                frameEl.style.maxWidth = '600px';
                iframeEl.classList.add('no-scrollbar');
            } else {
                frameEl.style.maxWidth = '800px';
                iframeEl.classList.remove('no-scrollbar');
            }

            // Update overlays if visible
            if (linksHighlighted) {
                setTimeout(updateOverlays, 150);
            }
        }

        function highlightLink(idx) {
            const doc = frame.contentDocument;
            const link = doc.querySelector(`[data-index="${idx}"]`);
            if (link) {
                // Toggle Logic: If clicking the same link again, remove highlight
                if (lastHighlightedIdx === idx) {
                    doc.querySelectorAll('.link-flash-spotlight').forEach(el => el.classList.remove('link-flash-spotlight'));
                    if (!linksHighlighted) {
                        link.classList.remove('link-outline');
                    }
                    lastHighlightedIdx = null;
                    if (spotlightTimeout) clearTimeout(spotlightTimeout);
                    return;
                }

                lastHighlightedIdx = idx;

                // Ensure it's scrolled into view
                link.scrollIntoView({ behavior: 'smooth', block: 'center' });

                // Remove existing flash/spotlight from others
                doc.querySelectorAll('.link-flash-spotlight').forEach(el => el.classList.remove('link-flash-spotlight'));

                // Add spotlight class (this dims the rest of the iframe via large box-shadow)
                link.classList.add('link-flash-spotlight');

                // If Show Links is off, temporarily show this one's overlay/outline
                const wasHighlighted = linksHighlighted;
                if (!wasHighlighted) {
                    link.classList.add('link-outline');
                }

                if (spotlightTimeout) clearTimeout(spotlightTimeout);
                spotlightTimeout = setTimeout(() => {
                    link.classList.remove('link-flash-spotlight');
                    if (!wasHighlighted) {
                        link.classList.remove('link-outline');
                    }
                    if (lastHighlightedIdx === idx) lastHighlightedIdx = null;
                }, 4000); // 4 seconds spotlight
            }
        }

        function toggleHighlightLinks() {
            linksHighlighted = !linksHighlighted;
            const btn = document.getElementById('highlightBtnText');
            btn.textContent = linksHighlighted ? 'Hide Links' : 'Show Links';

            if (linksHighlighted) {
                createOverlays();
            } else {
                removeOverlays();
            }
        }

        function createOverlays() {
            removeOverlays();
            const doc = frame.contentDocument;
            const links = doc.querySelectorAll('[data-index]');
            const container = document.getElementById('linkOverlays');
            const frameRect = frame.getBoundingClientRect();

            links.forEach(link => {
                const idx = link.getAttribute('data-index');
                let rect = link.getBoundingClientRect();

                // Advanced Dimension Check: If element is "empty" or "inline-collapsed", check children or use parent
                if (rect.width <= 2 || rect.height <= 2) {
                    const children = link.querySelectorAll('img, table, div, span, p');
                    let found = false;
                    for (let child of children) {
                        const childRect = child.getBoundingClientRect();
                        if (childRect.width > 2 && childRect.height > 2) {
                            rect = childRect;
                            found = true;
                            break;
                        }
                    }
                    // If still no size, it might be a text-only link that is display: inline
                    // Try to get a range client rect if possible
                    if (!found) {
                        try {
                            const range = doc.createRange();
                            range.selectNodeContents(link);
                            const rangeRect = range.getBoundingClientRect();
                            if (rangeRect.width > 0) {
                                rect = rangeRect;
                            }
                        } catch (e) {
                            console.warn("Could not calculate range rect for link", idx);
                        }
                    }
                }

                // Final safety skip
                if (rect.width === 0 || rect.height === 0) return;

                // Clipping Logic: Only show badge if link is at least partially visible in iframe viewport
                // rect is relative to iframe viewport
                const iframeHeight = frame.clientHeight;
                const iframeWidth = frame.clientWidth;

                // If the link is fully out of view, skip it
                if (rect.bottom < 0 || rect.top > iframeHeight || rect.right < 0 || rect.left > iframeWidth) {
                    return;
                }

                // Create overlay badge
                const badge = document.createElement('div');
                badge.className = 'link-overlay-badge';
                badge.textContent = idx;

                // Position badge: top-right calculation relative to main window
                let badgeX, badgeY;
                if (rect.width < 15) {
                    badgeX = frameRect.left + rect.left + (rect.width / 2) - 10;
                    badgeY = frameRect.top + rect.top - 20;
                } else {
                    badgeX = frameRect.left + rect.left + rect.width - 6;
                    badgeY = frameRect.top + rect.top - 12;
                }

                // Ensure the badge itself is clipped by the frame boundaries
                // (e.g. don't let it overlap the header if the link is at the very top edge)
                if (badgeY < frameRect.top) {
                    // If the link is partially visible at top but badge would be outside,
                    // we can either hide it or stick it to the edge. Let's hide for clean look.
                    return;
                }
                if (badgeY > frameRect.bottom - 20) {
                    return;
                }

                badge.style.cssText = `
                    position: fixed;
                    left: ${badgeX}px;
                    top: ${badgeY}px;
                    background: #BD93F9; /* Purple for badges */
                    color: #fff;
                    font-size: 11px;
                    font-weight: 800;
                    padding: 0px 6px;
                    min-width: 20px;
                    height: 20px;
                    line-height: 20px;
                    border-radius: 10px;
                    font-family: 'Inter', sans-serif;
                    z-index: 1000;
                    box-shadow: 0 3px 6px rgba(0,0,0,0.5), 0 0 0 2px rgba(255,255,255,0.8);
                    text-align: center;
                    border: none;
                    pointer-events: none;
                    opacity: 1;
                    transition: transform 0.2s ease;
                `;
                container.appendChild(badge);
                overlayElements.push(badge);

                // Add highlight to link in iframe
                link.classList.add('link-outline');
                link.classList.add('link-highlight-pulse');
            });
        }

        function removeOverlays() {
            const container = document.getElementById('linkOverlays');
            container.innerHTML = '';
            overlayElements = [];

            // Remove outlines from iframe links
            const doc = frame.contentDocument;
            if (doc) {
                const links = doc.querySelectorAll('[data-index]');
                links.forEach(link => {
                    link.classList.remove('link-outline');
                    link.classList.remove('link-highlight-pulse');
                    link.classList.remove('link-flash-spotlight');
                });
            }
        }

        function updateOverlays() {
            if (linksHighlighted) {
                createOverlays();
            }
        }

        // Update overlays logic
        frame.addEventListener('load', () => {
            frame.contentWindow.addEventListener('scroll', () => {
                if (linksHighlighted) updateOverlays();
            });
            frame.contentWindow.addEventListener('resize', () => {
                if (linksHighlighted) updateOverlays();
            });
        });

        function openHtmlModal() {
            const modal = document.getElementById('htmlModal');
            const codeEl = document.getElementById('htmlSourceCode');
            codeEl.textContent = content;
            modal.classList.add('active');
        }

        function closeHtmlModal() {
            document.getElementById('htmlModal').classList.remove('active');
        }

        function copyAllHtml() {
            navigator.clipboard.writeText(content).then(() => {
                const btn = event.target;
                const original = btn.textContent;
                btn.textContent = 'Copied!';
                setTimeout(() => btn.textContent = original, 1500);
            });
        }

        function copyLink(btn, url) {
            navigator.clipboard.writeText(url).then(() => {
                const originalHtml = btn.innerHTML;
                // Temporarily show checkmark
                btn.innerHTML = '<span style="color: var(--accent-green); font-weight: bold;">âœ“</span>';
                btn.classList.add('copy-success');

                setTimeout(() => {
                    btn.innerHTML = originalHtml;
                    btn.classList.remove('copy-success');
                }, 1500);
            });
        }

        async function runAudit(btn, url, index) {
            // Find parent elements
            const cardBody = btn.closest('.card-v2-body');
            const logContainer = cardBody.querySelector('.audit-log-container');
            const timeline = logContainer.querySelector('.audit-timeline');
            const statusText = logContainer.querySelector('.audit-status-text');
            const linkData = emailLinks.find(l => l.index === index);

            // Reset UI
            logContainer.classList.add('active');
            timeline.innerHTML = '';
            statusText.innerHTML = 'Initiating Audit...';
            statusText.className = 'audit-status-text text-yellow';

            // Allow animation
            await new Promise(r => setTimeout(r, 300));

            try {
                if (linkData && linkData.redirect_chain && linkData.redirect_chain.length > 0) {
                    statusText.innerHTML = 'Analyzing Redirection Chain...';

                    for (let i = 0; i < linkData.redirect_chain.length; i++) {
                        const step = linkData.redirect_chain[i];
                        const isLast = i === linkData.redirect_chain.length - 1;

                        // Initial request
                        if (i === 0) {
                            timeline.innerHTML += `<div class="audit-step"><strong>GET</strong> ${step.url}</div>`;
                            await new Promise(r => setTimeout(r, 400));
                        }

                        // If it's a redirect
                        if (step.status >= 300 && step.status < 400 && i + 1 < linkData.redirect_chain.length) {
                            const nextStep = linkData.redirect_chain[i + 1];
                            timeline.innerHTML += `<div class="audit-step"><strong>${step.status}</strong> &rarr; ${nextStep.url}</div>`;
                            await new Promise(r => setTimeout(r, 400));
                        }

                        // Final step
                        if (isLast) {
                            if (step.status === 200) {
                                timeline.innerHTML += `<div class="audit-step final"><strong>200 OK</strong> &bull; Final Destination Reached</div>`;
                                statusText.innerHTML = 'Verification Complete';
                                statusText.className = 'audit-status-text text-green';
                                btn.style.color = 'var(--accent-green)';
                            } else if (step.status === 'Error' || step.status >= 400) {
                                timeline.innerHTML += `<div class="audit-step error"><strong>${step.status}</strong> &bull; Request Failed</div>`;
                                statusText.innerHTML = 'Broken Link Detected';
                                statusText.className = 'audit-status-text text-red';
                                btn.style.color = 'var(--accent-red)';
                            } else {
                                timeline.innerHTML += `<div class="audit-step"><strong>${step.status || 'Done'}</strong> &bull; Path ended</div>`;
                                statusText.innerHTML = 'Audit Finished';
                                statusText.className = 'audit-status-text text-cyan';
                            }
                        }
                    }
                } else {
                    // Fallback for non-tracking links or missing data
                    timeline.innerHTML += `<div class="audit-step"><strong>GET</strong> ${url}</div>`;
                    await new Promise(r => setTimeout(r, 600));
                    timeline.innerHTML += `<div class="audit-step final"><strong>200 OK</strong> &bull; Link validated successfully</div>`;
                    statusText.innerHTML = 'Verification Complete';
                    statusText.className = 'audit-status-text text-green';
                    btn.style.color = 'var(--accent-green)';
                }

            } catch (e) {
                console.error("Audit error:", e);
                statusText.innerHTML = 'Analysis Error';
                statusText.className = 'audit-status-text text-red';
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const modal = document.getElementById('htmlModal');
                if (modal.classList.contains('active')) closeHtmlModal();
            }
            if (e.key === '1') setMode('mobile');
            if (e.key === '2') setMode('tablet');
            if (e.key === '3') setMode('desktop');
            if (e.key === 't' || e.key === 'T') toggleTheme();
            if (e.key === 'h' || e.key === 'H') toggleHighlightLinks();
            if (e.key === 'v' || e.key === 'V') openHtmlModal();

            // Scroll iframe with arrows
            if (e.key === 'ArrowDown') frame.contentWindow.scrollBy(0, 150);
            if (e.key === 'ArrowUp') frame.contentWindow.scrollBy(0, -150);
        });

        init();
    </script>
</body>

</html>